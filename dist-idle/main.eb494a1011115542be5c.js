(()=>{"use strict";var e,t={766:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CameraAnimator=void 0;const i=o(904);class n extends i.Component{constructor(e,t){super(e,t),this.updateBeforeRender=()=>{},this.updateAfterRender=()=>{},this.totalFrames=30,this.animating=!1}animate(e=10,t){let o=this.object.getComponentByType(i.CameraController).getCamera();this.currentAnimation&&this.currentAnimation.stop(),this.currentAnimation=BABYLON.Animation.CreateAndStartAnimation("anim",o,"position",e,this.totalFrames,o.position,t,0,null,(()=>{this.animating=!1})),this.animating=!0}isAnimating(){return this.animating}setAnimating(e){this.animating=e}}t.CameraAnimator=n},967:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkyboxAnimator=void 0;const i=o(904);class n extends i.Component{constructor(e,t){super(e,t),this.updateBeforeRender=()=>{this.object.getComponentByType(i.CubeSkyBoxComponent)&&this.object.getComponentByType(i.CubeSkyBoxComponent).get().rotate(this.rotationAxis,this.rotationSpeed,BABYLON.Space.LOCAL)},this.updateAfterRender=()=>{},this.rotationAxis=BABYLON.Axis.Y,this.rotationSpeed=.001}}t.SkyboxAnimator=n},965:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FollowOrbitCameraComponent=void 0;const i=o(904);class n extends i.Component{constructor(e,t){super(e,t),this.updateBeforeRender=()=>{this.object.getComponentByType(i.ArcRotateCameraController)&&(this.cameraComponent||this.setupCamera(),this.cameraComponent.getCamera().alpha-=this.speed,this.cameraComponent.getCamera().lowerAlphaLimit-=this.speed,this.cameraComponent.getCamera().upperAlphaLimit-=this.speed)},this.automaticDependencies.push(i.ArcRotateCameraController),this.speed=.009}setCameraSpeed(e){this.speed=e}setupCamera(){this.cameraComponent=this.object.getComponentByType(i.ArcRotateCameraController),this.cameraComponent.getCamera().radius=120,this.cameraComponent.getCamera().lowerRadiusLimit=120,this.cameraComponent.getCamera().upperRadiusLimit=120,this.cameraComponent.getCamera().alpha=3/4*Math.PI,this.cameraComponent.getCamera().lowerAlphaLimit=this.cameraComponent.getCamera().alpha-1/4*Math.PI,this.cameraComponent.getCamera().upperAlphaLimit=this.cameraComponent.getCamera().alpha+.5*Math.PI,this.cameraComponent.getCamera().lockedTarget=this.object.getComponentByType(i.MeshComponent).get()}updateAfterRender(){}}t.FollowOrbitCameraComponent=n},376:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OrbitRotatorComponent=void 0;const i=o(904);class n extends i.Component{constructor(e,t){super(e,t),this.updateBeforeRender=()=>{if(this.rotateAroundTarget){const e=this.object.getComponentByType(i.MeshComponent);e.position.x=this.radius*Math.sin(this.rotateAroundTargetAngle),e.position.z=this.radius*Math.cos(this.rotateAroundTargetAngle);let t=new BABYLON.Vector3(0,1,0),o=new BABYLON.Vector3(0,0,-1);const n=new BABYLON.Vector3(e.position.x,0,e.position.z).normalize();let a=t;o=BABYLON.Vector3.Cross(t,n),t=n,a=BABYLON.Vector3.RotationFromAxis(BABYLON.Vector3.Zero(),BABYLON.Vector3.Zero(),o),e.get().rotation=a,this.rotateAroundTargetAngle+=this.speed}this.rotateAroundSelf&&this.object.getComponentByType(i.MeshComponent).get().rotate(this.centerAxis,this.rotateAroundSelfAngle,BABYLON.Space.WORLD)},this.manualDependencies.push(i.MeshComponent),this.rotateAroundTargetAngle=0,this.centerAxis=new BABYLON.Vector3(Math.sin(Math.PI/180),Math.cos(Math.PI/180),0),this.speed=.008,this.radius=this.object.getComponentByType(i.MeshComponent).position.x}updateAfterRender(){}}t.OrbitRotatorComponent=n},823:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RotationInterpolator=void 0;const i=o(904);class n extends i.Component{constructor(e,t){super(e,t),this.updateBeforeRender=()=>{this.rotating&&this.rotate()},this.rotating=!1,this.manualDependencies.push(i.MeshComponent)}getLookAtRotation(e,t=!1){let o=t?3.14:0;return e=e.subtract(this.object.getComponentByType(i.MeshComponent).position),BABYLON.Quaternion.RotationYawPitchRoll(-Math.atan2(e.z,e.x)-Math.PI/2,o,0)}startRotation(e){this.rotationWeight=0,this.object.getComponentByType(i.MeshComponent).rotationQuaternion?this.oldRotationY=this.object.getComponentByType(i.MeshComponent).rotationQuaternion.toEulerAngles().y:this.oldRotationY=this.object.getComponentByType(i.MeshComponent).rotation.y,this.newRotationY=e.toEulerAngles().y,this.rotationLerpStep=.075,this.rotating=!0}rotate(){if(this.rotationWeight<1){this.rotationWeight+=Math.abs(this.rotationLerpStep),this.rotationWeight>1&&(this.rotationWeight=1,this.rotating=!1);const e=BABYLON.Quaternion.RotationYawPitchRoll(this.oldRotationY,0,0),t=BABYLON.Quaternion.RotationYawPitchRoll(this.newRotationY,0,0),o=BABYLON.Quaternion.Slerp(e,t,this.rotationWeight);this.object.getComponentByType(i.MeshComponent).rotationQuaternion=o}}updateAfterRender(){}}t.RotationInterpolator=n},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,t.Config={paths:{models:"https://lightyear-game.vercel.app/assets/models/",missiles:"https://lightyear-game.vercel.app/assets/models/missles/",localModels:"assets/models/",textures:"assets/textures/",guiLayouts:"assets/guiLayouts/",audio:{effects:"assets/sounds/effects/"}},healthBarScale:15,rangeOfFluctuationMultipler:10,attackDelayTime:100,lightIntensity:3,responsivity:{mobile:500,tablet:1400},droneInfo:{xSpacing:7,scaling:1,shootingAnimationSpeed:.08},laserInfo:{scaling:30,animationSpeed:.2},staticLayout:{active:!0,xSpacing:20,zSpacing:10,initialZ:70},staticCameraAnimation:{active:!0,zDistance:100,yDistance:50,speed:5}}},890:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.MissileName=void 0,(o=t.MissileName||(t.MissileName={})).MISSILE01="SM_Prop_Missile_01.glb",o.MISSILE03="SM_Prop_Missile_03.glb",o.MISSILE04="SM_Prop_Missile_04.glb",o.MISSILE07="SM_Prop_Missile_07.glb",o.DRONE="SM_Veh_Drone_01.glb",o.MISSILE_TEXTURE="PolygonSciFiSpace_Texture_01_A.png"},258:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceShipName=void 0,(o=t.SpaceShipName||(t.SpaceShipName={})).ASTEROID_MINER="asteroid-miner",o.BATTLE_CRUISER="battle_cruiser",o.BATTLESHIP="battleship",o.COLONY_SHIP="colony_ship",o.CRAWLER="crawler",o.CRUISER="cruiser",o.DEMOLISHER="demolisher",o.DESTROYER="destroyer",o.FALCON="falcon",o.GALLEON="galleon",o.HEAVY_CARGO="heavy-cargo",o.HEAVY_CRAFT="heavy-craft",o.HEAVY_FIGHTER="heavy-fighter",o.LIGHT_CARGO="light-cargo",o.LIGHT_CRAFT="light-craft",o.LIGHT_FIGHTER="light-fighter",o.PLANET_BOMBER="planet-bomber",o.REAPER="reaper",o.RECYCLER="recycler",o.SPACE_STATION="space-station"},710:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=o(890),n=o(258),a=new Map([[n.SpaceShipName.ASTEROID_MINER,{name:n.SpaceShipName.ASTEROID_MINER,path:"asteroid-miner/",fileName:"Asteroid_Miner.glb",textureName:"Asteroid_Miner_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(-.015,.02,-.04),jetFirePosition2:new BABYLON.Vector3(.015,.02,-.04),jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.BATTLE_CRUISER,{name:n.SpaceShipName.BATTLE_CRUISER,path:"battle-cruiser/",fileName:"Battle_Cruiser.glb",textureName:"Battle_Cruiser_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.BATTLESHIP,{name:n.SpaceShipName.BATTLESHIP,path:"battleship/",fileName:"Battleship.glb",textureName:"Battleship_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,.02,-.09),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.COLONY_SHIP,{name:n.SpaceShipName.COLONY_SHIP,path:"colony-ship/",fileName:"Colony_Ship.glb",textureName:"Colony_Ship_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.CRAWLER,{name:n.SpaceShipName.CRAWLER,path:"crawler/",fileName:"Crawler.glb",textureName:"Crawler_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.01),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.DEMOLISHER,{name:n.SpaceShipName.DEMOLISHER,path:"demolisher/",fileName:"Demolisher.glb",textureName:"Demolisher_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,.035,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE03,scale:200}],[n.SpaceShipName.DESTROYER,{name:n.SpaceShipName.DESTROYER,path:"destroyer/",fileName:"Destroyer.glb",textureName:"Destroyer_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE07,scale:200}],[n.SpaceShipName.FALCON,{name:n.SpaceShipName.FALCON,path:"falcon/",fileName:"Falcon.glb",textureName:"Falcon_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.GALLEON,{name:n.SpaceShipName.GALLEON,path:"galleon/",fileName:"Galleon.glb",textureName:"Galleon_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.HEAVY_CARGO,{name:n.SpaceShipName.HEAVY_CARGO,path:"heavy-cargo/",fileName:"Heavy_Cargo.glb",textureName:"Heavy_Cargo_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.HEAVY_CRAFT,{name:n.SpaceShipName.HEAVY_CRAFT,path:"heavy-craft/",fileName:"Heavy_Craft.glb",textureName:"Heavy_Craft_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.HEAVY_FIGHTER,{name:n.SpaceShipName.HEAVY_FIGHTER,path:"heavy-fighter/",fileName:"Heavy_Fighter.glb",textureName:"Heavy_Fighter_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,.005,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE07,scale:200}],[n.SpaceShipName.LIGHT_CARGO,{name:n.SpaceShipName.LIGHT_CARGO,path:"light-cargo/",fileName:"Light_Cargo.glb",textureName:"Light_Cargo_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.LIGHT_CRAFT,{name:n.SpaceShipName.LIGHT_CRAFT,path:"light-craft/",fileName:"Light_Craft.glb",textureName:"Light_Craft_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.LIGHT_FIGHTER,{name:n.SpaceShipName.LIGHT_FIGHTER,path:"light-fighter/",fileName:"Light_Fighter.glb",textureName:"Light_Fighter_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.PLANET_BOMBER,{name:n.SpaceShipName.PLANET_BOMBER,path:"planet-bomber/",fileName:"Planet_Bomber.glb",textureName:"Planet_Bomber_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(-.015,.01,-.05),jetFirePosition2:new BABYLON.Vector3(.015,.01,-.05),jetFirePosition3:null,missileName:i.MissileName.MISSILE03,scale:200}],[n.SpaceShipName.REAPER,{name:n.SpaceShipName.REAPER,path:"reaper/",fileName:"Reaper.glb",textureName:"Reaper_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE04,scale:200}],[n.SpaceShipName.RECYCLER,{name:n.SpaceShipName.RECYCLER,path:"recycler/",fileName:"Recycler.glb",textureName:"Recycler_BaseColor.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:200}],[n.SpaceShipName.SPACE_STATION,{name:n.SpaceShipName.SPACE_STATION,path:"space-station/",fileName:"Spacestation.glb",textureName:"Spacestation_BaseColor_1k.jpg",laserPosition:BABYLON.Vector3.Zero(),missilePosition:BABYLON.Vector3.Zero(),dronesPosition:new BABYLON.Vector3(0,20,0),jetFirePosition:new BABYLON.Vector3(0,0,-.04),jetFirePosition2:null,jetFirePosition3:null,missileName:i.MissileName.MISSILE01,scale:60}]]);t.default=a},432:function(e,t,o){var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MainIdleState=void 0;const n=o(904),a=o(357),s=o(710),r=o(967),l=o(823),p=o(376),m=o(766),c=o(965),h=o(258);t.MainIdleState=class{constructor(e){this.setCallbacks=(e,t)=>{},this.refreshData=e=>i(this,void 0,void 0,(function*(){this.world.reset(),yield this.setEnvironmentData(e)})),this.setEnvironmentData=e=>i(this,void 0,void 0,(function*(){yield this.addPlanet();let t=!0;for(let o of e)yield this.addSpaceship(o,null,t),t=!1;this.onReady()})),this.view=e,this.started=!1}getWorld(){return this.world}isStarted(){return this.started}setup(e){return i(this,void 0,void 0,(function*(){yield this.setWorld(null),this.onReady=e,this.world.start(),this.started=!0}))}setWorld(e){return i(this,void 0,void 0,(function*(){this.view.blur();const t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);this.world=new n.World(this.view,n.EngineType.STANDARD,e),yield this.world.init(!0,!0);const o=yield this.world.registerComponent(n.ArcRotateCameraController);o.position=new BABYLON.Vector3(0,350,0),o.getCamera().lockedTarget=BABYLON.Vector3.Zero(),o.getCamera().upperRadiusLimit=400,o.getCamera().lowerRadiusLimit=200,t<a.Config.responsivity.mobile&&(o.getCamera().lowerRadiusLimit=300),(yield this.world.registerComponent(n.HemisphericLightComponent)).intensity=a.Config.lightIntensity,(yield this.world.registerComponent(n.CubeSkyBoxComponent)).texturePath=a.Config.paths.textures+"skybox1/skybox1",yield this.world.registerComponent(r.SkyboxAnimator),yield this.world.registerComponent(m.CameraAnimator),yield this.world.registerComponent(n.GlowLayerComponent),BABYLON.Engine.audioEngine.useCustomUnlockedButton=!0}))}addSpaceship(e,t=null,o=!1){return i(this,void 0,void 0,(function*(){const t=new n.GameObject(e.shipId,this.world),i=yield t.registerComponent(n.MeshComponent);yield i.loadAsync(a.Config.paths.models+s.default.get(e.shipType).path,s.default.get(e.shipType).fileName),i.get().material.subMaterials[0].albedoTexture=new BABYLON.Texture(a.Config.paths.models+s.default.get(e.shipType).path+s.default.get(e.shipType).textureName,this.world.getScene(),!1,!1),i.get().scaling=new BABYLON.Vector3(s.default.get(e.shipType).scale,s.default.get(e.shipType).scale,s.default.get(e.shipType).scale),i.get().material.depthFunction=BABYLON.Engine.ALWAYS,i.position=new BABYLON.Vector3(e.x,e.y,e.z),e.shipType===h.SpaceShipName.SPACE_STATION&&(i.get().material.subMaterials[0].emissiveTexture=new BABYLON.Texture(a.Config.paths.textures+"space-station-emission-texture.jpg",this.world.getScene(),!1,!1),i.get().material.subMaterials[0].emissiveColor=new BABYLON.Color3(1,1,1),this.world.getComponentByType(n.GlowLayerComponent).includeOnly(i.get()));let r=yield t.registerComponent(p.OrbitRotatorComponent);r.rotateAroundSelf=!1,r.rotateAroundTarget=!0,o&&(yield t.registerComponent(c.FollowOrbitCameraComponent),t.getComponentByType(c.FollowOrbitCameraComponent).setCameraSpeed(.008))}))}addPlanet(){return i(this,void 0,void 0,(function*(){const e=new n.GameObject("planet",this.world),t=yield e.registerComponent(n.MeshComponent);yield t.loadAsync(a.Config.paths.localModels,"planetMesh.glb"),t.get().material.subMaterials[0].albedoTexture=new BABYLON.Texture(a.Config.paths.textures+"planets/earth-texture.jpg",this.world.getScene(),!1,!1),t.get().scaling=new BABYLON.Vector3(28,28,28);let o=yield e.registerComponent(p.OrbitRotatorComponent);o.rotateAroundSelfAngle=.004,o.rotateAroundSelf=!0,o.rotateAroundTarget=!1,yield e.registerComponent(l.RotationInterpolator),yield e.registerComponent(l.RotationInterpolator)}))}}},971:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=o(258),n=[{shipId:"1",shipType:i.SpaceShipName.ASTEROID_MINER,x:160,y:10,z:-15},{shipId:"2",shipType:i.SpaceShipName.BATTLESHIP,x:150,y:0,z:-10},{shipId:"3",shipType:i.SpaceShipName.CRAWLER,x:170,y:0,z:-25},{shipId:"5",shipType:i.SpaceShipName.SPACE_STATION,x:90,y:0,z:-70}];t.default=n},331:function(e,t,o){var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=o(432),a=o(971),s=document.getElementById("view");let r=new n.MainIdleState(s);function l(){console.log("is ready Idle State Usecase"),document.getElementById("loader").style.display="none",document.getElementById("view").style.display="block",r.getWorld().getEngine().resize()}window.onmessage=function(e){console.log(e)},window.refreshData=function(e){r.refreshData(e)},function(){i(this,void 0,void 0,(function*(){yield r.setup(l),yield r.setEnvironmentData(a.default)}))}()}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.m=t,e=[],i.O=(t,o,n,a)=>{if(!o){var s=1/0;for(m=0;m<e.length;m++){for(var[o,n,a]=e[m],r=!0,l=0;l<o.length;l++)(!1&a||s>=a)&&Object.keys(i.O).every((e=>i.O[e](o[l])))?o.splice(l--,1):(r=!1,a<s&&(s=a));if(r){e.splice(m--,1);var p=n();void 0!==p&&(t=p)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[o,n,a]},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[s,r,l]=o,p=0;if(s.some((t=>0!==e[t]))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(l)var m=l(i)}for(t&&t(o);p<s.length;p++)a=s[p],i.o(e,a)&&e[a]&&e[a][0](),e[s[p]]=0;return i.O(m)},o=self.webpackChunklightyear_battle_scene=self.webpackChunklightyear_battle_scene||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=i.O(void 0,[904],(()=>i(331)));n=i.O(n)})();